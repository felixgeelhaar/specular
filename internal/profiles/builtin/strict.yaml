schema: "specular.auto.profiles/v1"

profiles:
  strict:
    description: "Maximum safety profile with strict approval gates"

    approvals:
      mode: "all"
      interactive: true
      auto_approve: []
      require_approval:
        - "spec:update"
        - "spec:lock"
        - "plan:gen"
        - "build:run"

    safety:
      max_steps: 5
      timeout: "10m"
      max_cost_usd: 1.0
      max_cost_per_task: 0.20
      max_retries: 1
      require_policy: true
      allowed_step_types:
        - "spec:update"
        - "plan:gen"
      blocked_step_types:
        - "build:run"

    routing:
      preferred_agent: "cline"
      fallback_agent: "openai"
      temperature: 0.3
      model_preferences:
        "spec:update": "claude-opus-3.5"
        "plan:gen": "claude-opus-3.5"

    policies:
      enabled: true
      policy_files: []
      enforcement: "strict"

    execution:
      trace_logging: true
      save_patches: true
      checkpoint_frequency: 1
      json_output: false
      enable_tui: true

    hooks: {}
